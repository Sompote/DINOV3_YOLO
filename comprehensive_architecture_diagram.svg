<?xml version="1.0" encoding="UTF-8"?>
<svg width="1600" height="1200" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Gradients -->
    <linearGradient id="inputGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e3f2fd;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#bbdefb;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="backboneGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#f3e5f5;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e1bee7;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dinoGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#fff8e1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ffecb3;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="headGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#e8f5e8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c8e6c8;stop-opacity:1" />
    </linearGradient>
    
    <!-- Arrows -->
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#424242"/>
    </marker>
    <marker id="dinoArrow" markerWidth="12" markerHeight="8" refX="11" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#ff8f00"/>
    </marker>
    <marker id="enhanceArrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4caf50"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1600" height="1200" fill="#fafafa"/>
  
  <!-- Title -->
  <text x="800" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#1a237e">
    YOLOv13 + DINOv3 Vision Transformer - Complete Technical Architecture
  </text>
  <text x="800" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#3f51b5">
    Comprehensive Layer-by-Layer Implementation with Multi-Scale Enhancement Options
  </text>
  
  <!-- Input Section -->
  <rect x="50" y="70" width="150" height="60" rx="5" fill="url(#inputGrad)" stroke="#1565c0" stroke-width="2"/>
  <text x="125" y="90" text-anchor="middle" font-size="12" font-weight="bold" fill="#0d47a1">Input Image</text>
  <text x="125" y="105" text-anchor="middle" font-size="10" fill="#1565c0">3√ó640√ó640 RGB</text>
  <text x="125" y="118" text-anchor="middle" font-size="9" fill="#1565c0">Standard YOLO Format</text>
  
  <!-- YOLOv13 Backbone Section -->
  <rect x="50" y="160" width="1200" height="320" rx="8" fill="url(#backboneGrad)" stroke="#6a1b9a" stroke-width="3"/>
  <text x="650" y="185" text-anchor="middle" font-size="18" font-weight="bold" fill="#4a148c">YOLOv13 Backbone - YOLOv3-Inspired Darknet Architecture</text>
  
  <!-- Backbone Layers Row 1 -->
  <g id="backbone-row1">
    <!-- Layer 0 -->
    <rect x="70" y="200" width="70" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="105" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 0</text>
    <text x="105" y="230" text-anchor="middle" font-size="9" fill="#1a237e">Conv(32,3√ó3,s1)</text>
    <text x="105" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">640√ó640√ó32</text>
    
    <!-- Layer 1 -->
    <rect x="150" y="200" width="70" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="185" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 1</text>
    <text x="185" y="230" text-anchor="middle" font-size="9" fill="#1a237e">Conv(64,3√ó3,s2)</text>
    <text x="185" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">320√ó320√ó64</text>
    
    <!-- Layer 2 -->
    <rect x="230" y="200" width="80" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="270" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 2</text>
    <text x="270" y="230" text-anchor="middle" font-size="9" fill="#1a237e">Bottleneck(64)</text>
    <text x="270" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">320√ó320√ó64</text>
    
    <!-- Layer 3 -->
    <rect x="320" y="200" width="70" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="355" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 3</text>
    <text x="355" y="230" text-anchor="middle" font-size="9" fill="#1a237e">Conv(128,3√ó3,s2)</text>
    <text x="355" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">160√ó160√ó128</text>
    
    <!-- Layer 4 -->
    <rect x="400" y="200" width="90" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="445" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 4</text>
    <text x="445" y="230" text-anchor="middle" font-size="9" fill="#1a237e">2√óBottleneck(128)</text>
    <text x="445" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">160√ó160√ó128</text>
    
    <!-- Layer 5 -->
    <rect x="500" y="200" width="70" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="535" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 5</text>
    <text x="535" y="230" text-anchor="middle" font-size="9" fill="#1a237e">Conv(256,3√ó3,s2)</text>
    <text x="535" y="240" text-anchor="middle" font-size="8" fill="#3f51b5">80√ó80√ó256</text>
    
    <!-- Layer 6 - P3 Features -->
    <rect x="580" y="200" width="100" height="45" rx="4" fill="#fff3e0" stroke="#ff8f00" stroke-width="2"/>
    <text x="630" y="218" text-anchor="middle" font-size="10" font-weight="bold" fill="#e65100">Layer 6 (P3)</text>
    <text x="630" y="230" text-anchor="middle" font-size="9" fill="#e65100">8√óBottleneck(256)</text>
    <text x="630" y="240" text-anchor="middle" font-size="8" fill="#ff8f00">80√ó80√ó256</text>
    
    <circle cx="630" cy="255" r="8" fill="#ff8f00" stroke="#e65100" stroke-width="2"/>
    <text x="640" y="260" font-size="8" fill="#e65100">P3 Extract</text>
  </g>
  
  <!-- Backbone Layers Row 2 -->
  <g id="backbone-row2">
    <!-- Layer 7 -->
    <rect x="70" y="265" width="70" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="105" y="283" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 7</text>
    <text x="105" y="295" text-anchor="middle" font-size="9" fill="#1a237e">Conv(512,3√ó3,s2)</text>
    <text x="105" y="305" text-anchor="middle" font-size="8" fill="#3f51b5">40√ó40√ó512</text>
    
    <!-- Layer 8 -->
    <rect x="150" y="265" width="90" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="195" y="283" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 8</text>
    <text x="195" y="295" text-anchor="middle" font-size="9" fill="#1a237e">8√óBottleneck(512)</text>
    <text x="195" y="305" text-anchor="middle" font-size="8" fill="#3f51b5">40√ó40√ó512</text>
    
    <!-- Layer 9 - DINO3 Enhancement -->
    <rect x="250" y="265" width="120" height="45" rx="4" fill="#ffecb3" stroke="#ffa000" stroke-width="3"/>
    <text x="310" y="283" text-anchor="middle" font-size="10" font-weight="bold" fill="#e65100">Layer 9 (P4) ‚≠ê</text>
    <text x="310" y="295" text-anchor="middle" font-size="9" fill="#e65100">DINO3 Enhanced</text>
    <text x="310" y="305" text-anchor="middle" font-size="8" fill="#ff8f00">40√ó40√ó512</text>
    
    <circle cx="310" cy="320" r="8" fill="#ffa000" stroke="#e65100" stroke-width="2"/>
    <text x="320" y="325" font-size="8" fill="#e65100">P4 Enhanced</text>
    
    <!-- Layer 10 -->
    <rect x="380" y="265" width="80" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="420" y="283" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 10</text>
    <text x="420" y="295" text-anchor="middle" font-size="9" fill="#1a237e">Conv(1024,3√ó3,s2)</text>
    <text x="420" y="305" text-anchor="middle" font-size="8" fill="#3f51b5">20√ó20√ó1024</text>
    
    <!-- Layer 11 -->
    <rect x="470" y="265" width="100" height="45" rx="4" fill="#e8eaf6" stroke="#3f51b5" stroke-width="1"/>
    <text x="520" y="283" text-anchor="middle" font-size="10" font-weight="bold" fill="#1a237e">Layer 11 (P5)</text>
    <text x="520" y="295" text-anchor="middle" font-size="9" fill="#1a237e">4√óBottleneck(1024)</text>
    <text x="520" y="305" text-anchor="middle" font-size="8" fill="#3f51b5">20√ó20√ó1024</text>
    
    <circle cx="520" cy="320" r="8" fill="#ff8f00" stroke="#e65100" stroke-width="2"/>
    <text x="530" y="325" font-size="8" fill="#e65100">P5 Extract</text>
  </g>
  
  <!-- Backbone Technical Specs -->
  <g id="backbone-specs">
    <text x="70" y="345" font-size="11" font-weight="bold" fill="#6a1b9a">Backbone Flow:</text>
    <text x="70" y="360" font-size="10" fill="#6a1b9a">Channels: 3‚Üí32‚Üí64‚Üí128‚Üí256‚Üí512‚ÜíDINO3(512)‚Üí1024</text>
    <text x="70" y="375" font-size="10" fill="#6a1b9a">Spatial: 640¬≤‚Üí320¬≤‚Üí160¬≤‚Üí80¬≤‚Üí40¬≤‚Üí20¬≤</text>
    <text x="70" y="390" font-size="10" fill="#6a1b9a">Parameters: ~13.4M trainable + 86M frozen (DINO3)</text>
    
    <text x="70" y="415" font-size="11" font-weight="bold" fill="#6a1b9a">Feature Extraction Points:</text>
    <text x="70" y="430" font-size="10" fill="#ff8f00">‚Ä¢ P3 (Layer 6): 80√ó80√ó256 - Small object detection</text>
    <text x="70" y="445" font-size="10" fill="#ff8f00">‚Ä¢ P4 (Layer 9): 40√ó40√ó512 - Medium objects (DINO3 Enhanced) ‚≠ê</text>
    <text x="70" y="460" font-size="10" fill="#ff8f00">‚Ä¢ P5 (Layer 11): 20√ó20√ó1024 - Large object detection</text>
  </g>
  
  <!-- DINO3 Vision Transformer Section -->
  <rect x="1300" y="160" width="280" height="320" rx="8" fill="url(#dinoGrad)" stroke="#ef6c00" stroke-width="3"/>
  <text x="1440" y="185" text-anchor="middle" font-size="16" font-weight="bold" fill="#bf360c">DINOv3 Vision Transformer</text>
  
  <!-- DINO3 Architecture Detail -->
  <g id="dino3-architecture">
    <text x="1440" y="205" text-anchor="middle" font-size="12" font-weight="bold" fill="#d84315">facebook/dinov3-base (Default)</text>
    
    <!-- Input Processing -->
    <rect x="1320" y="220" width="80" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1360" y="235" text-anchor="middle" font-size="9" fill="#e65100">Input</text>
    <text x="1360" y="245" text-anchor="middle" font-size="8" fill="#e65100">512√ó40√ó40</text>
    
    <rect x="1410" y="220" width="80" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1450" y="235" text-anchor="middle" font-size="9" fill="#e65100">RGB Projection</text>
    <text x="1450" y="245" text-anchor="middle" font-size="8" fill="#e65100">512‚Üí3 channels</text>
    
    <rect x="1500" y="220" width="70" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1535" y="235" text-anchor="middle" font-size="9" fill="#e65100">Resize</text>
    <text x="1535" y="245" text-anchor="middle" font-size="8" fill="#e65100">‚Üí224√ó224</text>
    
    <!-- Patch Embedding -->
    <rect x="1320" y="260" width="100" height="35" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1370" y="275" text-anchor="middle" font-size="9" fill="#e65100">Patch Embedding</text>
    <text x="1370" y="285" text-anchor="middle" font-size="8" fill="#e65100">14√ó14 patches</text>
    <text x="1370" y="292" text-anchor="middle" font-size="7" fill="#e65100">256 patches total</text>
    
    <!-- Transformer Core -->
    <rect x="1430" y="260" width="130" height="50" rx="5" fill="#ffecb3" stroke="#ffa000" stroke-width="3"/>
    <text x="1495" y="278" text-anchor="middle" font-size="10" font-weight="bold" fill="#e65100">12 Transformer Layers</text>
    <text x="1495" y="290" text-anchor="middle" font-size="9" fill="#e65100">768-dim embeddings</text>
    <text x="1495" y="300" text-anchor="middle" font-size="8" fill="#e65100">12 attention heads</text>
    <text x="1495" y="307" text-anchor="middle" font-size="7" fill="#e65100">(Frozen for transfer learning)</text>
    
    <!-- Feature Processing -->
    <rect x="1320" y="320" width="90" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1365" y="335" text-anchor="middle" font-size="9" fill="#e65100">Feature Adapter</text>
    <text x="1365" y="345" text-anchor="middle" font-size="8" fill="#e65100">768‚Üí512 channels</text>
    
    <rect x="1420" y="320" width="90" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1465" y="335" text-anchor="middle" font-size="9" fill="#e65100">Spatial Projection</text>
    <text x="1465" y="345" text-anchor="middle" font-size="8" fill="#e65100">Back to 40√ó40</text>
    
    <rect x="1520" y="320" width="40" height="30" rx="3" fill="#fff8e1" stroke="#ff8f00" stroke-width="1"/>
    <text x="1540" y="335" text-anchor="middle" font-size="9" fill="#e65100">Output</text>
    <text x="1540" y="345" text-anchor="middle" font-size="8" fill="#e65100">512ch</text>
    
    <!-- DINO3 Variants -->
    <text x="1320" y="370" font-size="11" font-weight="bold" fill="#bf360c">Available Variants:</text>
    <text x="1320" y="385" font-size="9" fill="#d84315">‚Ä¢ dinov3_vits16: 21M params</text>
    <text x="1320" y="398" font-size="9" fill="#d84315">‚Ä¢ dinov3_vitb16: 86M params ‚≠ê</text>
    <text x="1320" y="411" font-size="9" fill="#d84315">‚Ä¢ dinov3_vitl16: 300M params</text>
    <text x="1320" y="424" font-size="9" fill="#d84315">‚Ä¢ dinov3_convnext_base: 89M</text>
    
    <text x="1320" y="445" font-size="10" font-weight="bold" fill="#bf360c">Key Features:</text>
    <text x="1320" y="460" font-size="9" fill="#d84315">‚úì Global context understanding</text>
    <text x="1320" y="473" font-size="9" fill="#d84315">‚úì Transfer learning ready</text>
  </g>
  
  <!-- Multi-Scale Detection Head -->
  <rect x="50" y="510" width="1500" height="420" rx="8" fill="url(#headGrad)" stroke="#2e7d32" stroke-width="3"/>
  <text x="800" y="535" text-anchor="middle" font-size="18" font-weight="bold" fill="#1b5e20">YOLOv13 Multi-Scale Detection Head with Enhanced Features</text>
  
  <!-- P5 Branch (Large Objects) -->
  <g id="p5-branch">
    <rect x="70" y="560" width="350" height="100" rx="5" fill="#c8e6c8" stroke="#4caf50" stroke-width="2"/>
    <text x="245" y="580" text-anchor="middle" font-size="14" font-weight="bold" fill="#2e7d32">P5 Branch - Large Objects (20√ó20√ó1024)</text>
    
    <!-- P5 Layers -->
    <rect x="80" y="590" width="60" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="110" y="607" text-anchor="middle" font-size="8">L12: BN(1024)</text>
    
    <rect x="150" y="590" width="60" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="180" y="607" text-anchor="middle" font-size="8">L13: Conv(512)</text>
    
    <rect x="220" y="590" width="60" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="250" y="607" text-anchor="middle" font-size="8">L14: Conv(1024)</text>
    
    <rect x="290" y="590" width="60" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="320" y="607" text-anchor="middle" font-size="8">L15: Conv(512)</text>
    
    <rect x="360" y="590" width="70" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="395" y="607" text-anchor="middle" font-size="8">L16: Conv(1024)</text>
    
    <text x="245" y="635" text-anchor="middle" font-size="10" fill="#2e7d32">Standard CNN Processing</text>
    <text x="245" y="650" text-anchor="middle" font-size="9" fill="#388e3c">Optimized for large object detection</text>
  </g>
  
  <!-- P4 Branch (Medium Objects) - DINO3 Enhanced -->
  <g id="p4-branch">
    <rect x="450" y="560" width="450" height="100" rx="5" fill="#ffecb3" stroke="#ffa000" stroke-width="3"/>
    <text x="675" y="580" text-anchor="middle" font-size="14" font-weight="bold" fill="#e65100">P4 Branch - Medium Objects (40√ó40√ó512) ‚≠ê DINO3 Enhanced</text>
    
    <!-- P4 Layers -->
    <rect x="460" y="590" width="50" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="485" y="607" text-anchor="middle" font-size="8">L17: Conv(256)</text>
    
    <rect x="520" y="590" width="50" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="545" y="607" text-anchor="middle" font-size="8">L18: Up√ó2</text>
    
    <rect x="580" y="590" width="80" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="620" y="607" text-anchor="middle" font-size="8">L19: Concat DINO3</text>
    
    <rect x="670" y="590" width="50" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="695" y="607" text-anchor="middle" font-size="8">L20: Conv(512)</text>
    
    <rect x="730" y="590" width="60" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="760" y="607" text-anchor="middle" font-size="8">L21: BN(512)</text>
    
    <rect x="800" y="590" width="50" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="825" y="607" text-anchor="middle" font-size="8">L22: Conv(256)</text>
    
    <rect x="860" y="590" width="50" height="25" fill="#fff8e1" stroke="#ff8f00"/>
    <text x="885" y="607" text-anchor="middle" font-size="8">L23: Conv(512)</text>
    
    <text x="675" y="635" text-anchor="middle" font-size="10" fill="#e65100">DINO3 Global Context + CNN Features</text>
    <text x="675" y="650" text-anchor="middle" font-size="9" fill="#ff8f00">Enhanced medium object detection with transformer features</text>
    
    <!-- Enhancement indicator -->
    <circle cx="675" cy="570" r="12" fill="#ffa000" stroke="#e65100" stroke-width="2"/>
    <text x="675" y="577" text-anchor="middle" font-size="16" font-weight="bold" fill="white">‚≠ê</text>
  </g>
  
  <!-- P3 Branch (Small Objects) -->
  <g id="p3-branch">
    <rect x="920" y="560" width="350" height="100" rx="5" fill="#c8e6c8" stroke="#4caf50" stroke-width="2"/>
    <text x="1095" y="580" text-anchor="middle" font-size="14" font-weight="bold" fill="#2e7d32">P3 Branch - Small Objects (80√ó80√ó256)</text>
    
    <!-- P3 Layers -->
    <rect x="930" y="590" width="50" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="955" y="607" text-anchor="middle" font-size="8">L24: Conv(128)</text>
    
    <rect x="990" y="590" width="50" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="1015" y="607" text-anchor="middle" font-size="8">L25: Up√ó2</text>
    
    <rect x="1050" y="590" width="70" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="1085" y="607" text-anchor="middle" font-size="8">L26: Concat P3</text>
    
    <rect x="1130" y="590" width="50" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="1155" y="607" text-anchor="middle" font-size="8">L27: Conv(256)</text>
    
    <rect x="1190" y="590" width="70" height="25" fill="#e8f5e8" stroke="#4caf50"/>
    <text x="1225" y="607" text-anchor="middle" font-size="8">L28-29: 2√óBN</text>
    
    <text x="1095" y="635" text-anchor="middle" font-size="10" fill="#2e7d32">Standard CNN Processing</text>
    <text x="1095" y="650" text-anchor="middle" font-size="9" fill="#388e3c">Optimized for small object detection</text>
  </g>
  
  <!-- Feature Fusion Network -->
  <g id="feature-fusion">
    <rect x="1290" y="560" width="240" height="100" rx="5" fill="#e1f5fe" stroke="#0277bd" stroke-width="2"/>
    <text x="1410" y="580" text-anchor="middle" font-size="14" font-weight="bold" fill="#01579b">Feature Fusion Network</text>
    
    <rect x="1300" y="590" width="100" height="25" fill="#e3f2fd" stroke="#1976d2"/>
    <text x="1350" y="607" text-anchor="middle" font-size="9">FPN (Top-Down)</text>
    
    <rect x="1410" y="590" width="100" height="25" fill="#e3f2fd" stroke="#1976d2"/>
    <text x="1460" y="607" text-anchor="middle" font-size="9">PAN (Bottom-Up)</text>
    
    <text x="1410" y="635" text-anchor="middle" font-size="10" fill="#01579b">Multi-Scale Feature Integration</text>
    <text x="1410" y="650" text-anchor="middle" font-size="9" fill="#0277bd">L30-35: P3‚ÜîP4‚ÜîP5 connections</text>
  </g>
  
  <!-- YOLOv13 Enhanced Modules -->
  <g id="yolo-modules">
    <text x="70" y="690" font-size="14" font-weight="bold" fill="#2e7d32">YOLOv13 Enhanced Modules:</text>
    
    <rect x="70" y="700" width="120" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
    <text x="130" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#4a148c">HyperACE</text>
    <text x="130" y="730" text-anchor="middle" font-size="9" fill="#6a1b9a">Adaptive Context</text>
    
    <rect x="200" y="700" width="120" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
    <text x="260" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#4a148c">FullPAD</text>
    <text x="260" y="730" text-anchor="middle" font-size="9" fill="#6a1b9a">Feature Aggregation</text>
    
    <rect x="330" y="700" width="120" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
    <text x="390" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#4a148c">A2C2f Blocks</text>
    <text x="390" y="730" text-anchor="middle" font-size="9" fill="#6a1b9a">Attention + Conv</text>
    
    <rect x="460" y="700" width="120" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
    <text x="520" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#4a148c">DSC3k2</text>
    <text x="520" y="730" text-anchor="middle" font-size="9" fill="#6a1b9a">Depthwise Sep Conv</text>
    
    <rect x="590" y="700" width="140" height="40" fill="#f3e5f5" stroke="#7b1fa2" stroke-width="1"/>
    <text x="660" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#4a148c">FullPAD Tunnel</text>
    <text x="660" y="730" text-anchor="middle" font-size="9" fill="#6a1b9a">Skip Connections</text>
  </g>
  
  <!-- Architecture Variants -->
  <g id="architecture-variants">
    <text x="750" y="690" font-size="14" font-weight="bold" fill="#2e7d32">Multi-Scale Enhancement Options:</text>
    
    <rect x="750" y="700" width="180" height="40" fill="#fff3e0" stroke="#ff8f00" stroke-width="1"/>
    <text x="840" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#e65100">yolov13-dino3</text>
    <text x="840" y="730" text-anchor="middle" font-size="9" fill="#ff8f00">P4 Enhanced (Default)</text>
    
    <rect x="940" y="700" width="180" height="40" fill="#fff3e0" stroke="#ff8f00" stroke-width="1"/>
    <text x="1030" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#e65100">yolov13-dino3-dual</text>
    <text x="1030" y="730" text-anchor="middle" font-size="9" fill="#ff8f00">P3+P4 Enhanced</text>
    
    <rect x="1130" y="700" width="180" height="40" fill="#fff3e0" stroke="#ff8f00" stroke-width="1"/>
    <text x="1220" y="718" text-anchor="middle" font-size="11" font-weight="bold" fill="#e65100">yolov13-dino3-multi</text>
    <text x="1220" y="730" text-anchor="middle" font-size="9" fill="#ff8f00">P3+P4+P5 Enhanced</text>
  </g>
  
  <!-- Channel Flow Information -->
  <g id="channel-flow">
    <text x="70" y="770" font-size="12" font-weight="bold" fill="#2e7d32">Detailed Channel Flow:</text>
    <text x="70" y="790" font-size="10" fill="#388e3c">P3: 256ch (80√ó80) ‚Üí Upsample ‚Üí Concat ‚Üí Conv ‚Üí 256ch final</text>
    <text x="70" y="805" font-size="10" fill="#388e3c">P4: 512ch (40√ó40) ‚Üí DINO3 ‚Üí Concat(256+512=768ch) ‚Üí Conv ‚Üí 512ch final ‚≠ê</text>
    <text x="70" y="820" font-size="10" fill="#388e3c">P5: 1024ch (20√ó20) ‚Üí Conv sequence ‚Üí 1024ch final</text>
    
    <text x="70" y="845" font-size="12" font-weight="bold" fill="#2e7d32">Performance Specifications:</text>
    <text x="70" y="865" font-size="10" fill="#388e3c">Total Parameters: 99.4M (86M frozen DINO3 + 13.4M trainable YOLOv13)</text>
    <text x="70" y="880" font-size="10" fill="#388e3c">FLOPs: 18.1 GFLOPs | Layers: 480 | Memory: ~3GB</text>
    <text x="70" y="895" font-size="10" fill="#388e3c">Expected mAP Improvement: +5-10% over standard YOLOv13</text>
  </g>
  
  <!-- Final Detection Output -->
  <rect x="600" y="960" width="400" height="80" rx="8" fill="#fce4ec" stroke="#c2185b" stroke-width="3"/>
  <text x="800" y="985" text-anchor="middle" font-size="16" font-weight="bold" fill="#880e4f">Final Detection Output (Layer 36)</text>
  <text x="800" y="1005" text-anchor="middle" font-size="12" fill="#ad1457">Detect([P3, P4, P5], num_classes=80)</text>
  <text x="800" y="1020" text-anchor="middle" font-size="11" fill="#ad1457">Multi-Scale Object Detection with DINO3 Enhancement</text>
  <text x="800" y="1035" text-anchor="middle" font-size="10" fill="#ad1457">Bounding Boxes + Object Classes + Confidence Scores</text>
  
  <!-- Model Comparison -->
  <rect x="50" y="1060" width="700" height="50" rx="5" fill="#f5f5f5" stroke="#424242" stroke-width="2"/>
  <text x="70" y="1080" font-size="12" font-weight="bold" fill="#1976d2">üÜï YOLOv13-DINO3:</text>
  <text x="200" y="1080" font-size="11" fill="#1976d2">99.4M params, 18.1 GFLOPs, YOLOv3-style backbone</text>
  <text x="70" y="1095" font-size="12" font-weight="bold" fill="#388e3c">üî¨ YOLOv13-DINO2:</text>
  <text x="200" y="1095" font-size="11" fill="#388e3c">95.8M params, Standard YOLOv13 backbone</text>
  
  <!-- Technical Benefits -->
  <rect x="770" y="1060" width="780" height="50" rx="5" fill="#e8f5e8" stroke="#4caf50" stroke-width="2"/>
  <text x="790" y="1080" font-size="11" font-weight="bold" fill="#2e7d32">Key Benefits:</text>
  <text x="870" y="1080" font-size="10" fill="#388e3c">Global Context Understanding</text>
  <text x="1050" y="1080" font-size="10" fill="#388e3c">Transfer Learning</text>
  <text x="1160" y="1080" font-size="10" fill="#388e3c">Small Dataset Excellence</text>
  <text x="1310" y="1080" font-size="10" fill="#388e3c">Multi-Scale Enhancement</text>
  <text x="790" y="1095" font-size="10" fill="#388e3c">Superior Feature Extraction</text>
  <text x="950" y="1095" font-size="10" fill="#388e3c">Robust Performance</text>
  <text x="1100" y="1095" font-size="10" fill="#388e3c">Flexible Architecture</text>
  <text x="1270" y="1095" font-size="10" fill="#388e3c">Production Ready</text>
  
  <!-- Flow Arrows and Connections -->
  <!-- Input to Backbone -->
  <line x1="200" y1="100" x2="300" y2="160" stroke="#424242" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Backbone to DINO3 -->
  <line x1="370" y1="287" x2="1300" y2="287" stroke="#ff8f00" stroke-width="4" marker-end="url(#dinoArrow)"/>
  <text x="800" y="280" text-anchor="middle" font-size="10" fill="#e65100">512ch features to DINO3</text>
  
  <!-- DINO3 back to P4 -->
  <line x1="1300" y1="320" x2="370" y2="320" stroke="#ff8f00" stroke-width="4" stroke-dasharray="8,4" marker-end="url(#dinoArrow)"/>
  <text x="800" y="340" text-anchor="middle" font-size="10" fill="#e65100">Enhanced 512ch features back</text>
  
  <!-- Feature extraction to head -->
  <line x1="630" y1="260" x2="1095" y2="560" stroke="#4caf50" stroke-width="2" marker-end="url(#enhanceArrow)"/>
  <text x="850" y="400" font-size="9" fill="#4caf50">P3 Features</text>
  
  <line x1="310" y1="330" x2="675" y2="560" stroke="#ff8f00" stroke-width="4" marker-end="url(#dinoArrow)"/>
  <text x="500" y="440" font-size="10" font-weight="bold" fill="#e65100">P4 DINO3 Enhanced</text>
  
  <line x1="520" y1="330" x2="245" y2="560" stroke="#4caf50" stroke-width="2" marker-end="url(#enhanceArrow)"/>
  <text x="350" y="440" font-size="9" fill="#4caf50">P5 Features</text>
  
  <!-- Head to output -->
  <line x1="800" y1="930" x2="800" y2="960" stroke="#424242" stroke-width="4" marker-end="url(#arrow)"/>
  
  <!-- Legend -->
  <rect x="50" y="1130" width="1500" height="50" rx="5" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
  <text x="800" y="1150" text-anchor="middle" font-size="14" font-weight="bold" fill="#495057">Comprehensive Architecture Legend</text>
  
  <rect x="70" y="1160" width="12" height="12" fill="#ffecb3"/>
  <text x="90" y="1170" font-size="10" fill="#495057">DINO3 Enhanced</text>
  
  <rect x="200" y="1160" width="12" height="12" fill="#e8eaf6"/>
  <text x="220" y="1170" font-size="10" fill="#495057">Standard CNN</text>
  
  <rect x="320" y="1160" width="12" height="12" fill="#c8e6c8"/>
  <text x="340" y="1170" font-size="10" fill="#495057">Detection Head</text>
  
  <rect x="440" y="1160" width="12" height="12" fill="#f3e5f5"/>
  <text x="460" y="1170" font-size="10" fill="#495057">YOLOv13 Modules</text>
  
  <line x1="580" y1="1166" x2="600" y2="1166" stroke="#ff8f00" stroke-width="4"/>
  <text x="610" y="1170" font-size="10" fill="#495057">Enhancement Flow</text>
  
  <line x1="730" y1="1166" x2="750" y2="1166" stroke="#4caf50" stroke-width="2"/>
  <text x="760" y="1170" font-size="10" fill="#495057">Feature Flow</text>
  
  <circle cx="880" cy="1166" r="6" fill="#ff8f00"/>
  <text x="895" y="1170" font-size="10" fill="#495057">Feature Extract</text>
  
  <text x="1020" y="1170" font-size="10" fill="#495057">‚≠ê = DINO3 Enhancement Point</text>
  
  <text x="1200" y="1170" font-size="10" fill="#495057">Layer Numbers Match YAML Configuration</text>
</svg>
